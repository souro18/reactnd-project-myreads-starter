{"version":3,"sources":["../static/js/2.7334f706.chunk.js","Register.js"],"names":["webpackJsonp","324","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_react_router_dom__","__WEBPACK_IMPORTED_MODULE_2_formik__","__WEBPACK_IMPORTED_MODULE_3_yup__","__WEBPACK_IMPORTED_MODULE_4__BooksAPI__","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","length","err","Array","isArray","TypeError","DisplayingErrorMessagesSchema","Yup","shape","name","min","max","required","email","password","changepassword","when","is","val","then","oneOf","Register","props","_useState","useState","_useState2","isSuccess","setSuccess","_useState3","_useState4","error","setError","onRegister","data","register","catch","e","response","a","createElement","className","msg","initialValues","validationSchema","onSubmit","values","_ref","errors","touched","handleBlur","handleChange","htmlFor","id","placeholder","type","onBlur","onChange","to"],"mappings":"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","file":"static/js/2.7334f706.chunk.js","sourcesContent":["webpackJsonp([2],{\n\n/***/ 324:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react_router_dom__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_formik__ = __webpack_require__(124);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_yup__ = __webpack_require__(125);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__BooksAPI__ = __webpack_require__(122);\nvar _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i[\"return\"])_i[\"return\"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");}};}();var DisplayingErrorMessagesSchema=__WEBPACK_IMPORTED_MODULE_3_yup__[\"a\" /* object */]().shape({name:__WEBPACK_IMPORTED_MODULE_3_yup__[\"c\" /* string */]().min(2,'Too Short!').max(50,'Too Long!').required('Required'),email:__WEBPACK_IMPORTED_MODULE_3_yup__[\"c\" /* string */]().email('Invalid email').required('Required'),password:__WEBPACK_IMPORTED_MODULE_3_yup__[\"c\" /* string */]().required(\"This field is required\"),changepassword:__WEBPACK_IMPORTED_MODULE_3_yup__[\"c\" /* string */]().when(\"password\",{is:function is(val){return val&&val.length>0?true:false;},then:__WEBPACK_IMPORTED_MODULE_3_yup__[\"c\" /* string */]().oneOf([__WEBPACK_IMPORTED_MODULE_3_yup__[\"b\" /* ref */](\"password\")],\"Both password need to be the same\")})});var Register=function Register(props){var _useState=Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useState\"])(false),_useState2=_slicedToArray(_useState,2),isSuccess=_useState2[0],setSuccess=_useState2[1];var _useState3=Object(__WEBPACK_IMPORTED_MODULE_0_react__[\"useState\"])({}),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var onRegister=function onRegister(data){Object(__WEBPACK_IMPORTED_MODULE_4__BooksAPI__[\"d\" /* register */])(data).then(function(data){return setSuccess(true);}).catch(function(e){if(e.response){setError(e.response.data);}});};return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'main'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('section',{className:'signup'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'container'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'signup-content'},error&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'error-block'},error.msg),isSuccess&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'success-block'},'Registration successful. You can now log in.'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'signup-form'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('h2',{className:'form-title'},'Sign up'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_formik__[\"c\" /* Formik */],{initialValues:{name:'',email:'',password:'',changepassword:''},validationSchema:DisplayingErrorMessagesSchema,onSubmit:function onSubmit(values){onRegister(values);}},function(_ref){var errors=_ref.errors,touched=_ref.touched,handleBlur=_ref.handleBlur,handleChange=_ref.handleChange;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_formik__[\"b\" /* Form */],null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'form-group'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('label',{htmlFor:'name'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i',{className:'zmdi zmdi-account material-icons-name'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_formik__[\"a\" /* Field */],{id:'name',name:'name',placeholder:'Your Name'}),touched.name&&errors.name&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'error'},errors.name)),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'form-group'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('label',{htmlFor:'email'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i',{className:'zmdi zmdi-email'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_formik__[\"a\" /* Field */],{id:'email',name:'email',placeholder:'Your Email',type:'email'}),touched.email&&errors.email&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'error'},errors.email)),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'form-group'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('label',{htmlFor:'pass'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i',{className:'zmdi zmdi-lock'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_formik__[\"a\" /* Field */],{id:'password',name:'password',type:'password',placeholder:'password'}),touched.password&&errors.password&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'error'},errors.password)),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'form-group'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('label',{htmlFor:'changepassword'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('i',{className:'zmdi zmdi-lock-outline'})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_formik__[\"a\" /* Field */],{type:'password',name:'changepassword',placeholder:'Confirm password',onBlur:handleBlur,onChange:handleChange}),touched.changepassword&&errors.changepassword&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'error'},errors.changepassword)),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'form-group form-button'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2_formik__[\"a\" /* Field */],{type:'submit',name:'signup',id:'signup',className:'form-submit',value:'Register'})));}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{className:'signup-image-link'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',null,'Already a member? '),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_react_router_dom__[\"b\" /* Link */],{to:'/login'},'log in')))))));};/* harmony default export */ __webpack_exports__[\"default\"] = (Register);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/2.7334f706.chunk.js","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Formik, Field, Form } from 'formik';\r\nimport * as Yup from 'yup';\r\n\r\nimport { register } from './BooksAPI';\r\n\r\nconst DisplayingErrorMessagesSchema = Yup.object().shape({\r\n    name: Yup.string()\r\n      .min(2, 'Too Short!')\r\n      .max(50, 'Too Long!')\r\n      .required('Required'),\r\n    email: Yup.string()\r\n      .email('Invalid email')\r\n      .required('Required'),\r\n    password: Yup.string().required(\"This field is required\"),\r\n    changepassword: Yup.string().when(\"password\", {\r\n        is: val => (val && val.length > 0 ? true : false),\r\n        then: Yup.string().oneOf(\r\n          [Yup.ref(\"password\")],\r\n          \"Both password need to be the same\"\r\n        )\r\n    })\r\n  });\r\nconst Register = props => {\r\n    const [ isSuccess, setSuccess] = useState(false);\r\n    const [ error, setError ] = useState({});\r\n\r\n    const onRegister = data => {\r\n         register(data)\r\n            .then( data => setSuccess(true))\r\n            .catch(e => {\r\n                if(e.response) {\r\n                    setError(e.response.data)\r\n                }\r\n            })\r\n    };\r\n    return (\r\n        <div className=\"main\">\r\n        <section className=\"signup\">\r\n            <div className=\"container\">\r\n                <div className=\"signup-content\">\r\n                    {error && <div className=\"error-block\">{error.msg}</div>}\r\n                    {isSuccess && <div className=\"success-block\">Registration successful. You can now log in.</div>}\r\n                    <div className=\"signup-form\">\r\n                        <h2 className=\"form-title\">Sign up</h2>\r\n                        <Formik\r\n                            initialValues={{\r\n                                name: '',\r\n                                email: '',\r\n                                password: '',\r\n                                changepassword: '',\r\n                            }}\r\n                            validationSchema={DisplayingErrorMessagesSchema}\r\n                            onSubmit={values => {\r\n                                onRegister(values);\r\n                            }}\r\n                        >\r\n                            {({ errors, touched, handleBlur, handleChange }) => (\r\n                        <Form>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"name\"><i className=\"zmdi zmdi-account material-icons-name\"></i></label>\r\n                                <Field id=\"name\" name=\"name\" placeholder=\"Your Name\" />\r\n                                {touched.name && errors.name && <div className=\"error\">{errors.name}</div>}\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"email\"><i className=\"zmdi zmdi-email\"></i></label>\r\n                                <Field\r\n                                    id=\"email\"\r\n                                    name=\"email\"\r\n                                    placeholder=\"Your Email\"\r\n                                    type=\"email\"\r\n                                />\r\n                                {touched.email && errors.email && <div className=\"error\">{errors.email}</div>}\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"pass\"><i className=\"zmdi zmdi-lock\"></i></label>\r\n                                <Field id=\"password\" name=\"password\" type=\"password\" placeholder=\"password\" />\r\n                                {touched.password && errors.password && <div className=\"error\">{errors.password}</div>}\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"changepassword\"><i className=\"zmdi zmdi-lock-outline\"></i></label>\r\n                                <Field type=\"password\" name=\"changepassword\" placeholder=\"Confirm password\" onBlur={handleBlur} onChange={handleChange}/>\r\n                                {touched.changepassword && errors.changepassword && <div className=\"error\">{errors.changepassword}</div>}\r\n                            </div>\r\n                            <div className=\"form-group form-button\">\r\n                                <Field type=\"submit\" name=\"signup\" id=\"signup\" className=\"form-submit\" value=\"Register\"/>\r\n                            </div>\r\n                        </Form>\r\n                            )}\r\n                        </Formik>\r\n                        <div className=\"signup-image-link\">\r\n                            <span>Already a member? </span>\r\n                            <Link to=\"/login\">log in</Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;\n\n\n// WEBPACK FOOTER //\n// ./src/Register.js"],"sourceRoot":""}